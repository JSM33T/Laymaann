{"version":3,"sources":["../../../../../Scripts/dedicated/blogs/index.ts"],"sourcesContent":["// @ts-nocheck\r\n//skip ts strict check cz 'vue js'\r\nimport { shareIt } from '../../global.js'\r\ndeclare const VueRouter: any, axios: any;\r\ndeclare const Vue: any;\r\n\r\nconst routerViewElement = document.querySelector('router-view');\r\nconst CategorisedBlogComponent = {\r\n    props: ['param1', 'param2'],\r\n    watch: {\r\n        $route(to: { params: { param1: any; param2: any; }; }, from: { params: { param1: any; param2: any; }; }) {\r\n            if (to.params.param1 !== from.params.param1 || to.params.param2 !== from.params.param2) {\r\n                if (routerViewElement) {\r\n                    routerViewElement.innerHTML = this.blogs;\r\n                }\r\n\r\n                this.$nextTick(() => {\r\n                    this.isLoading = true;\r\n                    this.titleItem = 'Blogs \\'' + this.param2 + '\\'',\r\n                        this.loadDefault();\r\n                    window.scrollTo({\r\n                        top: 0,\r\n                        behavior: 'smooth',\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n        this.loadDefault(\"\", \"\");\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        });\r\n    },\r\n    methods: {\r\n        async loadDefault() {\r\n            try {\r\n                const response = await axios.get('/api/blogs/0/' + this.param1 + '/' + this.param2);\r\n                const data = response.data;\r\n                this.blogs = data;\r\n            } catch (error) {\r\n                console.error('Error fetching data from API:', error);\r\n            } finally {\r\n                this.isLoading = false;\r\n                ;\r\n            }\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            blogs: [],\r\n            isLoading: true,\r\n            titleItem: 'Blogs \\'' + this.param2 + '\\'',\r\n        };\r\n    },\r\n    template: `\r\n        <h1 class=\"pb-3 pb-lg-4\" id=\"titleBlog\">{{titleItem}}</h1>\r\n        <div v-if=\"isLoading\">\r\n            <article class=\"row g-0 border-0 mb-4\">\r\n                <a class=\"col-sm-5 rounded-5 placeholder placeholder-wave\" style=\"min-height:14rem\"></a>\r\n                <div class=\"col-sm-7\">\r\n                    <div class=\"pt-4 pb-sm-4 ps-sm-4 pe-lg-4\">\r\n                        <p class=\"card-text placeholder-glow\">\r\n                            <span class=\"placeholder placeholder-sm col-7 me-2\"></span>\r\n                            <span class=\"placeholder placeholder-sm col-4\"></span>\r\n                            <span class=\"placeholder placeholder-sm col-4 me-2\"></span>\r\n                            <span class=\"placeholder placeholder-sm col-6\"></span>\r\n                            <span class=\"placeholder placeholder-sm col-8\"></span>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n        </div>\r\n        <div v-else>\r\n            <div v-for=\"blog in blogs\" :key=\"blog.title\">\r\n                <article class=\"row g-0 border-0 mb-4 fade-in\">\r\n                    <a class=\"col-sm-5 bg-repeat-0 bg-size-cover bg-position-center rounded-5\" v-bind:href=\"'/blog/' + blog.datePosted.substring(0,4) + '/' + blog.urlHandle \" v-bind:style=\"{ 'background-image': 'url(https://res.cloudinary.com/dkpmezpui/image/upload/v1707656187/almondcoveassets/blogs/' + blog.datePosted.substring(0, 4) + '/' + blog.urlHandle + '/cover.webp)', 'min-height': '14rem' }\"></a>\r\n                    <div class=\"col-sm-7\">\r\n                        <div class=\"pt-4 pb-sm-4 ps-sm-4 pe-lg-4\">\r\n                            <h3>\r\n                                <a v-bind:href=\"'/blog/' + blog.datePosted.substring(0, 4)+'/' + blog.urlHandle\">\r\n                                    {{blog.title}}\r\n                                </a>\r\n                            </h3>\r\n                            <p class=\"d-sm-none d-md-block\">{{blog.description}}</p><div class=\"d-flex flex-wrap align-items-center mt-n2\"><a class=\"nav-link text-muted fs-sm fw-normal d-flex align-items-end p-0 mt-2\" href=\"#\">{{blog.comments}}<i class=\"ai-message fs-lg ms-1\"></i></a><span class=\"fs-xs opacity-20 mt-2 mx-3\">|</span><span class=\"fs-sm text-muted mt-2\">{{blog.datePosted.substring(0, 7)}}</span><span class=\"fs-xs opacity-20 mt-2 mx-3\">|</span><router-link class=\"badge text-nav fs-xs border mt-2\" :to=\"'/blogs/category/'+  blog.locator \">{{blog.category}}</router-link></div>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n        </div>\r\n                            `,\r\n};\r\nconst HomeComponent = {\r\n    template: `\r\n            <h1 class=\"pb-3 pb-lg-4\" id=\"titleBlog\">{{titleItem}}</h1>\r\n            <div v-if=\"isLoading\">\r\n                <article class=\"row g-0 border-0 mb-4\">\r\n                    <a class=\"col-sm-5 rounded-5 placeholder placeholder-wave\" style=\"min-height:14rem\"></a>\r\n                    <div class=\"col-sm-7\">\r\n                        <div class=\"pt-4 pb-sm-4 ps-sm-4 pe-lg-4\">\r\n                            <p class=\"card-text placeholder-glow\"><span class=\"placeholder placeholder-sm col-7 me-2\"></span><span class=\"placeholder placeholder-sm col-4\"></span><span class=\"placeholder placeholder-sm col-4 me-2\"></span><span class=\"placeholder placeholder-sm col-6\"></span><span class=\"placeholder placeholder-sm col-8\"></span></p>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n            <div v-else>\r\n                <div v-if=\"blogs.length > 0\">\r\n                    <div v-for=\"blog in blogs\" :key=\"blog.title\" class=\"fade-in\">\r\n                        <article class=\"row g-0 border-0 mb-4 \">\r\n                            <a class=\"col-sm-5 bg-repeat-0 bg-size-cover bg-position-center rounded-5\" v-bind:href=\"'/blog/' + blog.datePosted.substring(0,4) + '/' + blog.urlHandle \" v-bind:style=\"{ 'background-image': 'url(https://res.cloudinary.com/dkpmezpui/image/upload/v1707656187/almondcoveassets/blogs/' + blog.datePosted.substring(0, 4) + '/' + blog.urlHandle + '/cover.webp)', 'min-height': '14rem' }\"></a>\r\n                            <div class=\"col-sm-7\">\r\n                                <div class=\"pt-4 pb-sm-4 ps-sm-4 pe-lg-4 \">\r\n                                    <h3>\r\n                                        <a v-bind:href=\"'/blog/' + blog.datePosted.substring(0, 4)+'/' + blog.urlHandle\">\r\n                                            {{blog.title}}\r\n                                        </a>\r\n                                    </h3>\r\n                                    <p class=\"d-sm-none d-md-block\">{{blog.description}}</p><div class=\"d-flex flex-wrap align-items-center mt-n2\"><a class=\"nav-link text-muted fs-sm fw-normal d-flex align-items-end p-0 mt-2\" href=\"#\">{{blog.comments}}<i class=\"ai-message fs-lg ms-1\"></i></a><span class=\"fs-xs opacity-20 mt-2 mx-3\">|</span><span class=\"fs-sm text-muted mt-2\">{{blog.datePosted.substring(0, 7)}}</span><span class=\"fs-xs opacity-20 mt-2 mx-3\">|</span><router-link class=\"badge text-nav fs-xs border mt-2\" :to=\"'/blogs/category/'+  blog.locator \">{{blog.category}}</router-link></div>\r\n                                </div>\r\n                            </div>\r\n                        </article>\r\n                    </div>\r\n                </div>\r\n                <div v-else>\r\n                    <h1 class=\"\">no blogs found!!</h1>\r\n                </div>\r\n            </div>\r\n                            `,\r\n    data() {\r\n        return {\r\n            blogs: [],\r\n            isLoading: true,\r\n            titleItem: 'Blogs'\r\n        };\r\n    },\r\n    async mounted() {\r\n\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        });\r\n        try {\r\n\r\n            const response = await axios.get('/api/blogs/0/na/na');\r\n            const data = response.data;\r\n            this.blogs = data;\r\n            console.log(data);\r\n        } catch (error) {\r\n            console.error('Error fetching data from API:', error);\r\n        } finally {\r\n            this.isLoading = false;\r\n\r\n        }\r\n    },\r\n    watch: {\r\n        \"_$route.query.search\": {\r\n            handler(newSearchValue: string | any[], oldSearchValue: any) {\r\n                this.$nextTick(async () => {\r\n                    if (typeof newSearchValue === 'string' && newSearchValue.length >= 1) {\r\n                        this.loadSearches(newSearchValue);\r\n                        this.titleItem = \"Blogs \\'\" + newSearchValue + \"\\'\";\r\n                    } else {\r\n                        this.loadDefaults();\r\n                        this.titleItem = \"Blogs\";\r\n                    }\r\n                });\r\n            },\r\n            immediate: true\r\n        },\r\n        get \"$route.query.search\"() {\r\n            return this[\"_$route.query.search\"];\r\n        },\r\n        set \"$route.query.search\"(value) {\r\n            this[\"_$route.query.search\"] = value;\r\n        },\r\n    },\r\n\r\n    methods: {\r\n        async loadDefaults() {\r\n            try {\r\n\r\n                const response = await axios.get('/api/blogs/0/na/na');\r\n                const data = response.data;\r\n                this.blogs = data;\r\n                console.log(\"default triggered\");\r\n            } catch (error) {\r\n                console.error('Error fetching data from API:', error);\r\n            } finally {\r\n                this.isLoading = false;\r\n\r\n            }\r\n        },\r\n        async loadSearches(newSearchValue: string) {\r\n            try {\r\n                this.titleItem = \"Searching\";\r\n                const response = await axios.get('/api/blogs/0/search/' + newSearchValue);\r\n                const data = response.data;\r\n                this.blogs = data;\r\n            } catch (error) {\r\n                console.error('Error fetching data from API:', error);\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        }\r\n    }\r\n};\r\nconst routes = [{\r\n    path: '/blogs',\r\n    component: HomeComponent\r\n}, {\r\n    path: '/blogs/:param1/:param2',\r\n    component: CategorisedBlogComponent,\r\n    props: true\r\n}];\r\nconst router = VueRouter.createRouter({\r\n    history: VueRouter.createWebHistory(),\r\n    routes\r\n});\r\nconst app = Vue.createApp({\r\n    data() {\r\n        return {\r\n            isLoading: true,\r\n            titleItem: 'Blogs',\r\n            categories: [],\r\n            inputValue: ''\r\n        };\r\n    },\r\n    async mounted() {\r\n        this.loadCategories();\r\n    },\r\n    methods: {\r\n        async navigateToBlog() {\r\n            this.$nextTick(() => {\r\n                if (this.inputValue.length >= 1) {\r\n                    this.$router.push({ path: '/blogs', query: { search: this.inputValue } });\r\n                    this.titleItem = \"searching\";\r\n                } else {\r\n                    this.$router.push({ path: '/blogs' });\r\n                }\r\n            });\r\n        },\r\n        async loadCategories() {\r\n            try {\r\n                const response = await axios.get('/api/blogs/categories/load');\r\n                const data = response.data;\r\n                this.categories = data;\r\n                //  console.log(data);\r\n            } catch (error) {\r\n                console.error('Error fetching data from API:', error);\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        }\r\n    }\r\n\r\n});\r\napp.use(router);\r\napp.mount('#app');"],"names":["routerViewElement","document","querySelector","CategorisedBlogComponent","props","watch","$route","to","from","params","param1","param2","innerHTML","blogs","$nextTick","isLoading","titleItem","loadDefault","window","scrollTo","top","behavior","mounted","methods","data","response","axios","get","error","console","template","HomeComponent","log","handler","newSearchValue","oldSearchValue","length","loadSearches","loadDefaults","immediate","value","router","VueRouter","createRouter","history","createWebHistory","routes","path","component","app","Vue","createApp","categories","inputValue","loadCategories","navigateToBlog","$router","push","query","search","use","mount"],"mappings":"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"}